# Silent-NAS 开发任务清单

> 最后更新: 2025-10-21 | 当前版本: v0.6.0-dev

**产品路线图**: [ROADMAP.md](ROADMAP.md) | **架构文档**: [README.md](README.md)

---

## 📊 当前状态

**已完成**: 多协议支持、文件管理、CRDT同步、监控审计、认证Phase 1
**技术指标**: 176测试(100%通过) | 覆盖率86.38% | API 60+

---

## 🚨 P0 技术债务

### #1 跨节点同步 gRPC 实现缺失 ⚠️

**位置**: `src/sync/node/{manager,service}.rs`
**缺失**: send_file(), request_file(), 冲突检测, 状态应用
**影响**: 阻塞所有分布式功能
**计划**: Week 1-2 | 1-2周

---

## 🎯 当前 Sprint (Week 1-2)

**目标**: 完成跨节点同步 gRPC 实现

| 任务 | 预计 | 状态 |
|------|------|------|
| 1.1 `send_file()` | 3-4天 | 🔴 |
| 1.2 `request_file()` | 2-3天 | 🔴 |
| 1.3 冲突检测 | 2-3天 | 🔴 |
| 1.4 状态应用 | 2-3天 | 🔴 |
| 1.5 端到端测试 | 2天 | 🔴 |

**DoD**: 3节点同步 | 冲突检测100% | 延迟<5s | 故障恢复

---

## 📋 下一个 Sprint (Week 3-4)

**认证 Phase 2**: ACL设计 | 用户组设计 | 配额方案

---

## 🚀 Backlog

### P0 (Week 2-8)
- **认证 Phase 2** (Week 3-4): ACL, 用户组, 配额
- **S3 高级** (Week 3-5): 标签, ACL, 生命周期, Presigned URL, CORS
- **WebDAV 高级** (Week 6-8): 锁定, DeltaV, 属性

### P1 (Week 8-12)
- **版本优化** (Week 8-11): 增量, 压缩, 去重
- **搜索增强** (Week 10-12): 全文, 过滤, 索引大小(#2债务)

---

## 📝 开发规范

**Git**: `main` | `feat/*` | `fix/*`
**提交**: `feat:` `fix:` `docs:` `refactor:` `test:`
**测试**: 单元>80% | 关键>90%
**DoD**: 代码+测试+审查+CI+文档

---

## 📊 进度

### Sprint (Week 1-2)
```
Task 1.1-1.5  ░░░░░░░░░░  0%
```

### Q2 进度
```
W1-2:  gRPC     ░░░░░░░░░░  0%
W3-5:  认证+S3  ░░░░░░░░░░  0%
W6-8:  WebDAV   ░░░░░░░░░░  0%
W8-11: 版本     ░░░░░░░░░░  0%
W10-12:搜索     ░░░░░░░░░░  0%
```

---

## 🔄 更新

- **2025-10-21**: 认证Phase1完成, 精简TODO, 开始gRPC
- **2025-10-20**: Phase5规划
- **2025-10-17**: 增量/搜索/监控/审计完成

---

**下次更新**: Week 2结束
