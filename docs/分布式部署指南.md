# Silent-NAS åˆ†å¸ƒå¼éƒ¨ç½²æŒ‡å—

> ç‰ˆæœ¬: v0.3.0
> æ›´æ–°æ—¶é—´: 2025-10-16
> é€‚ç”¨åœºæ™¯: å¤šèŠ‚ç‚¹åˆ†å¸ƒå¼ NAS é›†ç¾¤

## ğŸ“‹ ç›®å½•

1. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
2. [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [è¯¦ç»†éƒ¨ç½²æ­¥éª¤](#è¯¦ç»†éƒ¨ç½²æ­¥éª¤)
5. [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
6. [ç›‘æ§å’Œç®¡ç†](#ç›‘æ§å’Œç®¡ç†)
7. [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸ—ï¸ éƒ¨ç½²æ¶æ„

### å…¸å‹çš„ 3 èŠ‚ç‚¹é›†ç¾¤

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Client    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚  Node 1  â”‚â—„â”€â”€â”€â”€â–ºâ”‚  Node 2  â”‚â—„â”€â”€â”€â”€â–ºâ”‚  Node 3  â”‚
   â”‚ (Master) â”‚      â”‚  (Peer)  â”‚      â”‚  (Peer)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚                  â”‚
   [Storage 1]        [Storage 2]        [Storage 3]
```

### èŠ‚ç‚¹è§’è‰²è¯´æ˜

**ç§å­èŠ‚ç‚¹ (Seed Node)**
- ä½œä¸ºé›†ç¾¤çš„å¯åŠ¨ç‚¹
- ç»´æŠ¤å·²çŸ¥èŠ‚ç‚¹åˆ—è¡¨
- å¯ä»¥æœ‰å¤šä¸ªç§å­èŠ‚ç‚¹

**æ™®é€šèŠ‚ç‚¹ (Peer Node)**
- è¿æ¥åˆ°ç§å­èŠ‚ç‚¹åŠ å…¥é›†ç¾¤
- ä¸å…¶ä»–èŠ‚ç‚¹ä¿æŒå¿ƒè·³
- è‡ªåŠ¨åŒæ­¥æ–‡ä»¶çŠ¶æ€

---

## ğŸ”§ å‰ç½®è¦æ±‚

### ç¡¬ä»¶è¦æ±‚

**æœ€ä½é…ç½®** (æ¯èŠ‚ç‚¹)
- CPU: 2 æ ¸å¿ƒ
- å†…å­˜: 4GB RAM
- å­˜å‚¨: 100GB+ å¯ç”¨ç©ºé—´
- ç½‘ç»œ: 100Mbps+

**æ¨èé…ç½®** (æ¯èŠ‚ç‚¹)
- CPU: 4+ æ ¸å¿ƒ
- å†…å­˜: 8GB+ RAM
- å­˜å‚¨: 1TB+ SSD
- ç½‘ç»œ: 1Gbps+

### è½¯ä»¶è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux / macOS / Windows
- **Rust**: 1.70+
- **ä¾èµ–æœåŠ¡**:
  - NATS Server 2.9+ (æ¶ˆæ¯é˜Ÿåˆ—)
  - å¯é€‰: Docker (å®¹å™¨åŒ–éƒ¨ç½²)

### ç½‘ç»œè¦æ±‚

- èŠ‚ç‚¹é—´éœ€è¦èƒ½å¤Ÿäº’ç›¸è®¿é—®
- å¼€æ”¾ç«¯å£:
  - `9000`: gRPC åŒæ­¥æœåŠ¡
  - `8080`: HTTP API
  - `8081`: WebDAV
  - `9001`: S3 API

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: æœ¬åœ°æµ‹è¯•é›†ç¾¤ (3 èŠ‚ç‚¹)

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/silent-rs/silent-nas.git
cd silent-nas

# 2. å¯åŠ¨ NATS æœåŠ¡å™¨
docker run -d --name nats -p 4222:4222 nats:latest

# 3. å¯åŠ¨èŠ‚ç‚¹ 1 (ç§å­èŠ‚ç‚¹)
cargo run --release -- \
  --node-id node-1 \
  --listen 127.0.0.1:9000 \
  --http-port 8080 \
  --storage-path ./storage1

# 4. å¯åŠ¨èŠ‚ç‚¹ 2 (æ–°ç»ˆç«¯)
cargo run --release -- \
  --node-id node-2 \
  --listen 127.0.0.1:9001 \
  --http-port 8081 \
  --storage-path ./storage2 \
  --seed-nodes 127.0.0.1:9000

# 5. å¯åŠ¨èŠ‚ç‚¹ 3 (æ–°ç»ˆç«¯)
cargo run --release -- \
  --node-id node-3 \
  --listen 127.0.0.1:9002 \
  --http-port 8082 \
  --storage-path ./storage3 \
  --seed-nodes 127.0.0.1:9000
```

### æ–¹å¼äºŒ: Docker Compose éƒ¨ç½²

åˆ›å»º `docker-compose.yml`:

```yaml
version: '3.8'

services:
  nats:
    image: nats:2.9
    ports:
      - "4222:4222"
    networks:
      - nas-network

  node1:
    build: .
    environment:
      - NODE_ID=node-1
      - LISTEN_ADDR=0.0.0.0:9000
      - HTTP_PORT=8080
      - NATS_URL=nats://nats:4222
      - STORAGE_PATH=/data
      - SEED_NODES=
    ports:
      - "9000:9000"
      - "8080:8080"
    volumes:
      - node1-data:/data
    networks:
      - nas-network
    depends_on:
      - nats

  node2:
    build: .
    environment:
      - NODE_ID=node-2
      - LISTEN_ADDR=0.0.0.0:9000
      - HTTP_PORT=8080
      - NATS_URL=nats://nats:4222
      - STORAGE_PATH=/data
      - SEED_NODES=node1:9000
    ports:
      - "9001:9000"
      - "8081:8080"
    volumes:
      - node2-data:/data
    networks:
      - nas-network
    depends_on:
      - nats
      - node1

  node3:
    build: .
    environment:
      - NODE_ID=node-3
      - LISTEN_ADDR=0.0.0.0:9000
      - HTTP_PORT=8080
      - NATS_URL=nats://nats:4222
      - STORAGE_PATH=/data
      - SEED_NODES=node1:9000
    ports:
      - "9002:9000"
      - "8082:8080"
    volumes:
      - node3-data:/data
    networks:
      - nas-network
    depends_on:
      - nats
      - node1

volumes:
  node1-data:
  node2-data:
  node3-data:

networks:
  nas-network:
    driver: bridge
```

å¯åŠ¨é›†ç¾¤:

```bash
docker-compose up -d
```

---

## ğŸ“ è¯¦ç»†éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: å‡†å¤‡é…ç½®æ–‡ä»¶

ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºé…ç½®æ–‡ä»¶ `config.toml`:

**èŠ‚ç‚¹ 1 (ç§å­èŠ‚ç‚¹) - config-node1.toml**

```toml
[node]
node_id = "node-1"
listen_addr = "0.0.0.0:9000"
seed_nodes = []  # ç§å­èŠ‚ç‚¹ä¸éœ€è¦é…ç½®å…¶ä»–èŠ‚ç‚¹

[node.discovery]
heartbeat_interval = 10  # å¿ƒè·³é—´éš”(ç§’)
node_timeout = 30        # èŠ‚ç‚¹è¶…æ—¶(ç§’)

[sync]
auto_sync = true
sync_interval = 60           # åŒæ­¥é—´éš”(ç§’)
max_files_per_sync = 100     # æ¯æ¬¡æœ€å¤§åŒæ­¥æ–‡ä»¶æ•°
max_retries = 3              # æœ€å¤§é‡è¯•æ¬¡æ•°

[storage]
root_path = "/data/storage1"
chunk_size = 10485760  # 10MB

[http]
host = "0.0.0.0"
port = 8080

[nats]
url = "nats://localhost:4222"
topic_prefix = "nas"

[version]
enabled = true
max_versions = 10
retention_days = 30
```

**èŠ‚ç‚¹ 2 - config-node2.toml**

```toml
[node]
node_id = "node-2"
listen_addr = "0.0.0.0:9000"
seed_nodes = ["192.168.1.10:9000"]  # èŠ‚ç‚¹1çš„åœ°å€

[node.discovery]
heartbeat_interval = 10
node_timeout = 30

[sync]
auto_sync = true
sync_interval = 60
max_files_per_sync = 100
max_retries = 3

[storage]
root_path = "/data/storage2"
chunk_size = 10485760

[http]
host = "0.0.0.0"
port = 8080

[nats]
url = "nats://192.168.1.10:4222"
topic_prefix = "nas"

[version]
enabled = true
max_versions = 10
retention_days = 30
```

**èŠ‚ç‚¹ 3 - config-node3.toml**

```toml
[node]
node_id = "node-3"
listen_addr = "0.0.0.0:9000"
seed_nodes = ["192.168.1.10:9000"]  # èŠ‚ç‚¹1çš„åœ°å€

# ... å…¶ä»–é…ç½®ç±»ä¼¼èŠ‚ç‚¹2
```

### æ­¥éª¤ 2: éƒ¨ç½² NATS æœåŠ¡å™¨

NATS ç”¨äºèŠ‚ç‚¹é—´çš„äº‹ä»¶é€šçŸ¥ã€‚

**ä½¿ç”¨ Docker:**

```bash
docker run -d \
  --name nats-server \
  -p 4222:4222 \
  -p 8222:8222 \
  nats:2.9 \
  --http_port 8222
```

**ä½¿ç”¨äºŒè¿›åˆ¶:**

```bash
# ä¸‹è½½
wget https://github.com/nats-io/nats-server/releases/download/v2.9.0/nats-server-v2.9.0-linux-amd64.tar.gz
tar -xzf nats-server-v2.9.0-linux-amd64.tar.gz

# å¯åŠ¨
./nats-server -p 4222 -m 8222
```

### æ­¥éª¤ 3: ç¼–è¯‘ Silent-NAS

```bash
# å…‹éš†ä»£ç 
git clone https://github.com/silent-rs/silent-nas.git
cd silent-nas

# ç¼–è¯‘ release ç‰ˆæœ¬
cargo build --release

# äºŒè¿›åˆ¶æ–‡ä»¶ä½äº
# target/release/silent-nas
```

### æ­¥éª¤ 4: å¯åŠ¨ç§å­èŠ‚ç‚¹ (èŠ‚ç‚¹1)

```bash
# åœ¨èŠ‚ç‚¹1æœºå™¨ä¸Š
./target/release/silent-nas \
  --config config-node1.toml \
  > node1.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f node1.log
```

ç­‰å¾…çœ‹åˆ°:
```
INFO Silent-NAS æœåŠ¡å™¨å¯åŠ¨ä¸­...
INFO QUIC æ–‡ä»¶ä¼ è¾“æœåŠ¡å™¨å¯åŠ¨: 0.0.0.0:9000
INFO HTTP æœåŠ¡å™¨å¯åŠ¨: http://0.0.0.0:8080
```

### æ­¥éª¤ 5: å¯åŠ¨å…¶ä»–èŠ‚ç‚¹

```bash
# åœ¨èŠ‚ç‚¹2æœºå™¨ä¸Š
./target/release/silent-nas \
  --config config-node2.toml \
  > node2.log 2>&1 &

# åœ¨èŠ‚ç‚¹3æœºå™¨ä¸Š
./target/release/silent-nas \
  --config config-node3.toml \
  > node3.log 2>&1 &
```

### æ­¥éª¤ 6: éªŒè¯é›†ç¾¤çŠ¶æ€

```bash
# æŸ¥è¯¢èŠ‚ç‚¹1çš„é›†ç¾¤çŠ¶æ€
curl http://192.168.1.10:8080/api/nodes

# é¢„æœŸè¾“å‡º:
# {
#   "nodes": [
#     {"node_id": "node-1", "address": "192.168.1.10:9000", "status": "online"},
#     {"node_id": "node-2", "address": "192.168.1.11:9000", "status": "online"},
#     {"node_id": "node-3", "address": "192.168.1.12:9000", "status": "online"}
#   ]
# }

# æŸ¥è¯¢åŒæ­¥çŠ¶æ€
curl http://192.168.1.10:8080/api/sync/status

# ä¸Šä¼ æµ‹è¯•æ–‡ä»¶
curl -X POST -F "file=@test.txt" \
  http://192.168.1.10:8080/api/files/upload

# åœ¨å…¶ä»–èŠ‚ç‚¹æŸ¥è¯¢ï¼ˆåº”è¯¥å·²åŒæ­¥ï¼‰
curl http://192.168.1.11:8080/api/files/list
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### èŠ‚ç‚¹é…ç½®

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `node_id` | èŠ‚ç‚¹å”¯ä¸€æ ‡è¯† | è‡ªåŠ¨ç”Ÿæˆ | "node-1" |
| `listen_addr` | gRPC ç›‘å¬åœ°å€ | "127.0.0.1:9000" | "0.0.0.0:9000" |
| `seed_nodes` | ç§å­èŠ‚ç‚¹åˆ—è¡¨ | [] | ["192.168.1.10:9000"] |
| `heartbeat_interval` | å¿ƒè·³é—´éš”(ç§’) | 10 | 10 |
| `node_timeout` | èŠ‚ç‚¹è¶…æ—¶(ç§’) | 30 | 30 |

### åŒæ­¥é…ç½®

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | æ¨èå€¼ |
|------|------|--------|--------|
| `auto_sync` | å¯ç”¨è‡ªåŠ¨åŒæ­¥ | true | true |
| `sync_interval` | åŒæ­¥é—´éš”(ç§’) | 60 | 30-300 |
| `max_files_per_sync` | æ¯æ¬¡æœ€å¤§åŒæ­¥æ•° | 100 | 50-500 |
| `max_retries` | æœ€å¤§é‡è¯•æ¬¡æ•° | 3 | 3-5 |

### å­˜å‚¨é…ç½®

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `root_path` | å­˜å‚¨æ ¹ç›®å½• | "./storage" |
| `chunk_size` | åˆ†å—å¤§å° | 10MB |

---

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### å¥åº·æ£€æŸ¥

```bash
# HTTP å¥åº·æ£€æŸ¥
curl http://localhost:8080/health

# å“åº”:
# {
#   "status": "healthy",
#   "node_id": "node-1",
#   "uptime": 3600,
#   "connected_nodes": 2
# }
```

### èŠ‚ç‚¹ç®¡ç† API

```bash
# åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹
curl http://localhost:8080/api/nodes

# è·å–èŠ‚ç‚¹è¯¦æƒ…
curl http://localhost:8080/api/nodes/node-1

# ç§»é™¤èŠ‚ç‚¹
curl -X DELETE http://localhost:8080/api/nodes/node-2
```

### åŒæ­¥çŠ¶æ€ç›‘æ§

```bash
# è·å–åŒæ­¥ç»Ÿè®¡
curl http://localhost:8080/api/sync/status

# å“åº”:
# {
#   "total_files": 1000,
#   "synced_files": 950,
#   "pending_files": 50,
#   "last_sync_time": "2025-10-16T11:30:00Z",
#   "error_count": 2
# }

# è§¦å‘æ‰‹åŠ¨åŒæ­¥
curl -X POST http://localhost:8080/api/sync/trigger
```

### æ—¥å¿—ç›‘æ§

æ¨èä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—å·¥å…·:

```bash
# ä½¿ç”¨ journalctl (systemd)
journalctl -u silent-nas -f

# æˆ–æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f /var/log/silent-nas/node1.log

# è¿‡æ»¤é”™è¯¯æ—¥å¿—
grep ERROR /var/log/silent-nas/node1.log
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. èŠ‚ç‚¹æ— æ³•è¿æ¥

**ç—‡çŠ¶**: èŠ‚ç‚¹æ—¥å¿—æ˜¾ç¤º "è¿æ¥åˆ°ç§å­èŠ‚ç‚¹å¤±è´¥"

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
ping 192.168.1.10

# 2. æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
telnet 192.168.1.10 9000

# 3. æ£€æŸ¥é˜²ç«å¢™
sudo firewall-cmd --list-ports

# 4. æ£€æŸ¥èŠ‚ç‚¹è¿›ç¨‹
ps aux | grep silent-nas
```

**è§£å†³æ–¹æ¡ˆ**:
- å¼€æ”¾é˜²ç«å¢™ç«¯å£: `sudo firewall-cmd --add-port=9000/tcp --permanent`
- æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„ seed_nodes åœ°å€æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ç§å­èŠ‚ç‚¹å·²å¯åŠ¨

#### 2. æ–‡ä»¶åŒæ­¥å¤±è´¥

**ç—‡çŠ¶**: æ–‡ä»¶ä¸Šä¼ åˆ°èŠ‚ç‚¹1ï¼Œä½†èŠ‚ç‚¹2çœ‹ä¸åˆ°

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥åŒæ­¥çŠ¶æ€
curl http://localhost:8080/api/sync/status

# 2. æ£€æŸ¥èŠ‚ç‚¹è¿æ¥
curl http://localhost:8080/api/nodes

# 3. æŸ¥çœ‹åŒæ­¥æ—¥å¿—
grep "sync" /var/log/silent-nas/node1.log
```

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `auto_sync` æ˜¯å¦å¯ç”¨
- æ‰‹åŠ¨è§¦å‘åŒæ­¥: `curl -X POST http://localhost:8080/api/sync/trigger`
- æ£€æŸ¥ç½‘ç»œå¸¦å®½å’Œå»¶è¿Ÿ

#### 3. NATS è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤º "è¿æ¥ NATS å¤±è´¥"

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥ NATS æœåŠ¡çŠ¶æ€
docker ps | grep nats

# 2. æµ‹è¯• NATS è¿æ¥
telnet localhost 4222

# 3. æŸ¥çœ‹ NATS æ—¥å¿—
docker logs nats-server
```

**è§£å†³æ–¹æ¡ˆ**:
- å¯åŠ¨ NATS: `docker start nats-server`
- æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„ NATS URL
- ç¡®ä¿ NATS ç«¯å£ 4222 å¯è®¿é—®

#### 4. èŠ‚ç‚¹å¿ƒè·³è¶…æ—¶

**ç—‡çŠ¶**: èŠ‚ç‚¹é¢‘ç¹æ‰çº¿

**æ’æŸ¥æ­¥éª¤**:
```bash
# æŸ¥çœ‹å¿ƒè·³æ—¥å¿—
grep "heartbeat" /var/log/silent-nas/node1.log

# æŸ¥çœ‹ç½‘ç»œå»¶è¿Ÿ
ping -c 10 192.168.1.11
```

**è§£å†³æ–¹æ¡ˆ**:
- å¢åŠ  `node_timeout` å€¼ (å¦‚ 60ç§’)
- æ£€æŸ¥ç½‘ç»œç¨³å®šæ€§
- é™ä½ `heartbeat_interval` (å¦‚ 5ç§’)

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é›†ç¾¤è§„æ¨¡å»ºè®®

- **å°å‹é›†ç¾¤**: 3-5 ä¸ªèŠ‚ç‚¹
- **ä¸­å‹é›†ç¾¤**: 5-10 ä¸ªèŠ‚ç‚¹
- **å¤§å‹é›†ç¾¤**: 10-50 ä¸ªèŠ‚ç‚¹

æ¯å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¡®ä¿ç½‘ç»œå¸¦å®½å……è¶³ã€‚

### 2. ç§å­èŠ‚ç‚¹é…ç½®

- è‡³å°‘é…ç½® 2-3 ä¸ªç§å­èŠ‚ç‚¹
- ç§å­èŠ‚ç‚¹åº”è¯¥æ˜¯ç¨³å®šçš„èŠ‚ç‚¹
- æ–°èŠ‚ç‚¹é…ç½®å¤šä¸ªç§å­èŠ‚ç‚¹åœ°å€

```toml
[node]
seed_nodes = [
    "192.168.1.10:9000",  # ç§å­èŠ‚ç‚¹1
    "192.168.1.11:9000",  # ç§å­èŠ‚ç‚¹2
    "192.168.1.12:9000"   # ç§å­èŠ‚ç‚¹3
]
```

### 3. å­˜å‚¨è§„åˆ’

- æ¯ä¸ªèŠ‚ç‚¹ä½¿ç”¨ç‹¬ç«‹çš„å­˜å‚¨è·¯å¾„
- ä½¿ç”¨ SSD æå‡æ€§èƒ½
- å®šæœŸå¤‡ä»½é‡è¦æ•°æ®
- ç›‘æ§ç£ç›˜ä½¿ç”¨ç‡

### 4. ç½‘ç»œä¼˜åŒ–

- ä½¿ç”¨åƒå…†ç½‘ç»œ
- èŠ‚ç‚¹é—´ä½¿ç”¨ä¸“ç”¨ç½‘ç»œ
- å¯ç”¨ TCP BBR æ‹¥å¡æ§åˆ¶

```bash
# å¯ç”¨ BBR
echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
sysctl -p
```

### 5. å®‰å…¨é…ç½®

- ä½¿ç”¨ TLS åŠ å¯† gRPC é€šä¿¡
- é…ç½®é˜²ç«å¢™è§„åˆ™
- å¯ç”¨è®¤è¯å’Œæˆæƒ
- å®šæœŸæ›´æ–°ä¾èµ–

### 6. ç›‘æ§å‘Šè­¦

æ¨èç›‘æ§æŒ‡æ ‡:
- èŠ‚ç‚¹åœ¨çº¿çŠ¶æ€
- æ–‡ä»¶åŒæ­¥å»¶è¿Ÿ
- ç£ç›˜ä½¿ç”¨ç‡
- ç½‘ç»œå¸¦å®½
- CPU å’Œå†…å­˜ä½¿ç”¨ç‡

### 7. å¤‡ä»½ç­–ç•¥

```bash
# å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf config-backup-$(date +%Y%m%d).tar.gz config/

# å¤‡ä»½æ•°æ®åº“ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
pg_dump nas_db > backup-$(date +%Y%m%d).sql

# å¤‡ä»½å­˜å‚¨æ•°æ®
rsync -av /data/storage/ /backup/storage/
```

---

## ğŸ¯ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ¸…å•

- [ ] ç¡¬ä»¶èµ„æºå‡†å¤‡å……è¶³
- [ ] ç½‘ç»œè§„åˆ’å®Œæˆ (IPã€ç«¯å£)
- [ ] NATS æœåŠ¡å™¨éƒ¨ç½²å¹¶æµ‹è¯•
- [ ] é…ç½®æ–‡ä»¶å‡†å¤‡å®Œæˆ
- [ ] é˜²ç«å¢™è§„åˆ™é…ç½®
- [ ] ç›‘æ§ç³»ç»Ÿéƒ¨ç½²
- [ ] æ—¥å¿—æ”¶é›†é…ç½®
- [ ] å¤‡ä»½ç­–ç•¥åˆ¶å®š
- [ ] ç¾éš¾æ¢å¤è®¡åˆ’
- [ ] æ–‡æ¡£å’Œè¿ç»´æ‰‹å†Œå‡†å¤‡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è·¨èŠ‚ç‚¹åŒæ­¥å®ç°æŠ¥å‘Š](./è·¨èŠ‚ç‚¹åŒæ­¥å®ç°æŠ¥å‘Š.md)
- [å¼€å‘æ€»ç»“](./å¼€å‘æ€»ç»“-2025-10-16.md)
- [API æ–‡æ¡£](./APIæ–‡æ¡£.md)
- [æ•…éšœæ’æŸ¥æ‰‹å†Œ](./æ•…éšœæ’æŸ¥æ‰‹å†Œ.md)

---

## ğŸ†˜ è·å–å¸®åŠ©

- GitHub Issues: https://github.com/silent-rs/silent-nas/issues
- ç¤¾åŒºè®ºå›: https://discuss.silent-rs.org
- é‚®ä»¶: support@silent-rs.org

---

**æœ€åæ›´æ–°**: 2025-10-16
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**é€‚ç”¨ç‰ˆæœ¬**: Silent-NAS v0.3.0+
